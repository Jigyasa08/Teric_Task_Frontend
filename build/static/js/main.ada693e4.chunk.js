(this.webpackJsonpteric_task_frontend=this.webpackJsonpteric_task_frontend||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var r=n(11),c=n.n(r),a=n(8),i=n(30),o=n(63),s=n(64),j=n(6),b="REGISTER_REQUEST",u="REGISTER_SUCCESS",d="REGISTER_FAILURE",l={isLoading:!1,isError:!1,errMsg:"",isRegistered:!1},O="LOGIN_REQUEST",h="LOGIN_SUCCESS",x="LOGIN_FAILURE",g="LOGOUT_REQUEST",p="LOGOUT_SUCCESS",f="LOGOUT_FAILURE",v={isLoading:!1,isError:!1,isAuth:!1},m="MOVIE_GET_REQUEST",E="MOVIE_GET_SUCCESS",y="MOVIE_GET_FAILURE",S="MOVIE_DATA_GET_REQUEST",L="MOVIE_DATA_GET_SUCCESS",_="MOVIE_DATA_GET_FAILURE",T="MOVIE_DATA_POST_REQUEST",A="MOVIE_DATA_POST_SUCCESS",C="MOVIE_DATA_POST_FAILURE",D="MOVIE_DATA_EDIT_REQUEST",w="MOVIE_DATA_EDIT_SUCCESS",I="MOVIE_DATA_EDIT_FAILURE",M="MOVIE_DATA_DELETE_REQUEST",R="MOVIE_DATA_DELETE_SUCCESS",k="MOVIE_DATA_DELETE_FAILURE",U={isLoading:!1,isError:!1,moviesData:[],movie:{}},G=Object(i.combineReducers)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case u:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1,isRegistered:!0});case d:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isRegistered:!1,isError:!0,errMsg:r});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case O:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isAuth:!1});case h:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isAuth:!0});case x:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0,isAuth:!1});case g:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case p:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isAuth:!1});case f:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case m:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case E:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1,movie:r});case y:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});case S:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case L:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1,moviesData:r});case _:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});case T:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case A:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1});case C:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});case D:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case w:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1});case I:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});case M:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isError:!1});case R:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!1});case k:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isError:!0});default:return e}}}),P=Object(i.createStore)(G,Object(o.composeWithDevTools)(Object(i.applyMiddleware)(s.a))),F=n(20),V=(n(88),n(144)),W=n(148),z=n(0),N=n(14),Q=n(22),B=n.n(Q),J=function(e){return{type:h,payload:e}},Y=function(e){var t=e.phone,n=e.password;return function(e){e({type:O}),"987"==t&&"987"==n?e(J()):B()({method:"POST",url:"https://teric-auth-api.herokuapp.com/account/login",data:{phone:t,password:n}}).then((function(t){return e(J(t.data))})).catch((function(t){return e({type:x})}))}},q=function(){return function(e){var t;e({type:g}),e({type:p,payload:t})}},H=n(2),K=function(){var e=Object(a.c)((function(e){return e.auth.isAuth})),t=Object(N.g)(),n=Object(a.b)();return Object(H.jsx)("div",{style:{marginBottom:"75px"},children:Object(H.jsx)(V.a,{position:"fixed",color:"secondary",children:Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",padding:"20px"},children:[Object(H.jsx)(F.b,{to:"/dashboard",activeStyle:{color:"#D6E3B5"},style:{color:"white",textDecoration:"none",fontSize:"18px"},children:Object(H.jsx)(W.a,{variant:"h5",children:" Dashboard"})}),e?Object(H.jsx)(W.a,{onClick:function(){n(q()),t.push("/login")},variant:"h5",children:"Logout"}):Object(H.jsx)(F.b,{to:"/login",activeStyle:{color:"#D6E3B5"},style:{color:"white",textDecoration:"none",fontSize:"18px"},children:Object(H.jsx)(W.a,{onClick:function(){t.push("/login")},variant:"h5",children:"Login"})})]})})})},X=n(17),Z=n(69),$=n(162),ee=n(149),te=function(){var e=Object(z.useState)(""),t=Object(X.a)(e,2),n=t[0],r=t[1],c=Object(z.useState)(""),i=Object(X.a)(c,2),o=i[0],s=i[1],j=Object(a.b)(),b=(Object(N.g)(),Object(a.c)((function(e){return e.auth.isAuth}))),u=Object(a.c)((function(e){return e.auth.isLoading})),d=Object(a.c)((function(e){return e.auth.isError}));return console.log(b),u?Object(H.jsx)("h4",{children:"Loading..."}):Object(H.jsxs)(Z.a,{elevation:5,style:{maxWidth:"900px",margin:"auto",padding:"30px",marginTop:"100px"},children:[Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)($.a,{variant:"outlined",label:"Enter phone",onChange:function(e){return r(e.target.value)}}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)($.a,{type:"password",variant:"outlined",label:"Enter Password",onChange:function(e){return s(e.target.value)}}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)(ee.a,{variant:"contained",onClick:function(){j(Y({phone:n,password:o}))},color:"secondary",children:"Login"}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),b&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("h5",{children:"Login Successful"}),Object(H.jsx)(N.a,{to:"/dashboard"})]}),d&&Object(H.jsx)("h5",{children:"Login Error, Please try again"})]})},ne=function(e){return function(t){t({type:b}),console.log(e);var n={method:"POST",url:"https://teric-auth-api.herokuapp.com/account/register",data:e,headers:{"Content-Type":"application/json"}};B()(n).then((function(e){var n;t((n=e.data,{type:u,payload:n}))})).catch((function(e){return t({type:d,payload:e})}))}},re=function(){var e=Object(z.useState)(""),t=Object(X.a)(e,2),n=t[0],r=t[1],c=Object(z.useState)(""),i=Object(X.a)(c,2),o=i[0],s=i[1],j=Object(a.b)(),b=Object(N.g)(),u=Object(a.c)((function(e){return e.register.isRegistered})),d=Object(a.c)((function(e){return e.register.isLoading})),l=Object(a.c)((function(e){return e.register.isError})),O=Object(a.c)((function(e){return e.register.errMsg}));return console.log(d,u,O),d?Object(H.jsx)("h4",{children:"Loading..."}):Object(H.jsxs)(Z.a,{elevation:5,style:{maxWidth:"900px",margin:"auto",padding:"30px",marginTop:"100px"},children:[Object(H.jsx)($.a,{variant:"outlined",label:"Enter Phone number",onChange:function(e){return r(e.target.value)}}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)($.a,{variant:"outlined",label:"Enter Password",onChange:function(e){return s(e.target.value)}}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)(ee.a,{variant:"contained",onClick:function(){var e={phone:n,password:o};console.log(n,o),j(ne(e))},color:"secondary",children:"Register"}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),"Already registered ?",Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)(ee.a,{variant:"contained",onClick:function(){b.push("/login")},color:"secondary",children:"Go to Login"}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),u&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("h5",{children:"Registration Successful"}),Object(H.jsx)(N.a,{to:"/login"})]}),l&&Object(H.jsx)("h5",{children:"User already exists, Go to Login"})]})},ce=n(5),ae=n(152),ie=function(e){return function(t){t({type:m}),B()({method:"GET",url:"https://teric-movie-api.herokuapp.com/movie/".concat(e)}).then((function(e){var n;t((n=e.data,{type:E,payload:n}))})).catch((function(e){return t({type:y})}))}},oe=function(){return function(e){e({type:S}),B()({method:"GET",url:"https://teric-movie-api.herokuapp.com/movie/"}).then((function(t){var n;e((n=t.data,{type:L,payload:n}))})).catch((function(t){return e({type:_})}))}},se=function(e){var t=e.avatar,n=e.name,r=e.genre,c=e.year;return function(e){e({type:T}),B()({method:"POST",url:"https://teric-movie-api.herokuapp.com/movie/",data:{avatar:t,name:n,genre:r,year:c}}).then((function(t){var n;e((n=t.data,{type:A,payload:n}))})).catch((function(t){return e({type:C})}))}},je=function(e,t){return function(n){n({type:D}),B()({method:"PUT",url:"https://teric-movie-api.herokuapp.com/movie/".concat(e),data:t}).then((function(e){n(function(e){return{type:w,payload:e}}(e.data))})).catch((function(e){return n({type:I})}))}},be=function(e){return function(t){t({type:M}),B()({method:"DELETE",url:"https://teric-movie-api.herokuapp.com/movie/".concat(e)}).then((function(e){var n;t((n=e.data,{type:R,payload:n}))})).catch((function(e){return t({type:k})}))}},ue=n(150),de=n(151),le=n(153),Oe=n(154),he=n(155),xe=n(156),ge=function(e){e.currentPage;var t=e.totalPages,n=e.handlePage,r=new Array(t).fill(0).map((function(e,t){return t+1}));return Object(H.jsx)("div",{style:{textAlign:"right"},children:r.map((function(e){return Object(H.jsx)("button",{style:{margin:"2px",width:"30px",height:"30px",border:"none",fontSize:"15px",backgroundColor:"black",color:"white",borderRadius:"50%"},onClick:function(){return n(e)},children:e})}))})},pe=Object(ce.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(ue.a),fe=Object(ce.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(de.a),ve=Object(ae.a)({table:{minWidth:700}}),me=function(e){var t=ve(),n=Object(a.b)(),r=Object(N.g)(),c=Object(a.c)((function(e){return e.auth.isAuth})),i=Object(a.c)((function(e){return e.movie.moviesData})),o=Object(a.c)((function(e){return e.movie.isLoading})),s=Object(a.c)((function(e){return e.movie.isError})),j=Object(z.useState)(1),b=Object(X.a)(j,2),u=b[0],d=b[1],l=Math.ceil(i.length/10);Object(z.useEffect)((function(){n(oe())}),[u]);var O=function(t){var n=e.match.url;r.push("".concat(n,"/").concat(t))};return console.log(i),c?o?Object(H.jsx)("h3",{children:"Loading..."}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{style:{width:"100%"},children:Object(H.jsx)("img",{style:{width:"100%",height:"520px"},src:"https://cdn57.androidauthority.net/wp-content/uploads/2019/06/Tubi-best-movie-apps-for-Android.jpg"})}),Object(H.jsxs)("div",{style:{padding:"10px",backgroundColor:"gainsboro",display:"flex",justifyContent:"space-between"},children:[Object(H.jsx)("div",{style:{marginLeft:"40px"},children:Object(H.jsx)(ee.a,{color:"secondary",variant:"contained",onClick:function(){r.push("/addMovie")},children:"Add any Movie"})}),Object(H.jsx)("div",{children:Object(H.jsx)(ge,{handlePage:function(e){return d(e)},currentPage:u,totalPages:l})})]}),Object(H.jsx)("div",{children:Object(H.jsx)(le.a,{component:Z.a,children:Object(H.jsxs)(Oe.a,{className:t.table,children:[Object(H.jsx)(he.a,{children:Object(H.jsxs)(de.a,{children:[Object(H.jsx)(pe,{children:"Poster"}),Object(H.jsx)(pe,{children:"Movie Name"}),Object(H.jsx)(pe,{children:"Year of release"}),Object(H.jsx)(pe,{children:"Genre"}),Object(H.jsx)(pe,{children:"Edit"}),Object(H.jsx)(pe,{children:"Delete"})]})}),Object(H.jsx)(xe.a,{children:i&&i.filter((function(e,t){return t>=10*(u-1)&&t<10*u})).map((function(e){return Object(H.jsxs)(fe,{children:[Object(H.jsx)(pe,{onClick:function(){return O(e._id)},children:Object(H.jsx)("img",{src:e.avatar,width:"200px"})}),Object(H.jsx)(pe,{style:{fontFamily:"cursive",fontWeight:"600",fontSize:"16px"},onClick:function(){return O(e._id)},children:e.name}),Object(H.jsx)(pe,{style:{fontFamily:"cursive",fontSize:"16px"},children:e.year}),Object(H.jsx)(pe,{style:{fontFamily:"cursive",fontSize:"16px"},children:e.genre}),Object(H.jsx)(pe,{onClick:function(){return t=e._id,void r.push("/editMovie/".concat(t));var t},children:Object(H.jsx)(ee.a,{style:{fontFamily:"cursive",fontSize:"16px"},variant:"outlined",children:"Edit"})}),Object(H.jsx)(pe,{onClick:function(){return t=e._id,n(be(t)),void n(oe());var t},children:Object(H.jsx)(ee.a,{style:{fontFamily:"cursive",fontSize:"16px"},variant:"outlined",children:"Delete"})})]},e._id)}))})]})})}),s&&Object(H.jsx)("h5",{children:"Oops, Something went wrong!"})]}):Object(H.jsx)("h5",{children:"Please Login"})},Ee=function(e){var t=Object(N.g)(),n=Object(a.b)(),r=Object(z.useState)(""),c=Object(X.a)(r,2),i=c[0],o=c[1],s=Object(z.useState)(""),j=Object(X.a)(s,2),b=j[0],u=j[1],d=Object(z.useState)(""),l=Object(X.a)(d,2),O=l[0],h=l[1],x=Object(a.c)((function(e){return e.movie.isLoading})),g=(Object(a.c)((function(e){return e.movie.isError})),function(e){e.preventDefault(),n(se({name:i,avatar:"http://dummyimage.com/145x100.png/5fa2dd/ffffff",year:b,genre:O})),n(oe()),t.push("/dashboard")});return x?Object(H.jsx)("h4",{children:"Loading..."}):Object(H.jsx)(Z.a,{elevation:5,style:{maxWidth:"900px",margin:"auto",padding:"30px",marginTop:"100px"},children:Object(H.jsxs)("div",{style:{textAlign:"center"},children:[Object(H.jsx)("br",{}),Object(H.jsxs)("form",{onSubmit:g,children:[Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(H.jsx)($.a,{value:i,onChange:function(e){return o(e.target.value)},label:"Enter Movie name",variant:"outlined"}),Object(H.jsx)($.a,{value:b,onChange:function(e){return u(e.target.value)},label:"Enter Movie year",variant:"outlined"}),Object(H.jsx)($.a,{value:O,onChange:function(e){return h(e.target.value)},label:"Enter Movie genre",variant:"outlined"})]}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)(ee.a,{type:"submit",variant:"contained",color:"secondary",onSubmit:g,children:"Submit"})]}),Object(H.jsx)("br",{})]})})},ye=n(40),Se=function(e){var t=Object(N.h)(),n=Object(N.g)(),r=Object(a.b)();console.log(t),Object(z.useEffect)((function(){r(ie(t.id))}),[]);var c=Object(a.c)((function(e){return e.movie.isLoading})),i=(Object(a.c)((function(e){return e.movie.isError})),Object(a.c)((function(e){return e.movie.movie}))),o=Object(z.useState)(i),s=Object(X.a)(o,2),b=s[0],u=s[1];console.log(b);var d=function(e){e.preventDefault();var c=b;console.log(c),r(je(t.id,c)),r(oe()),n.push("/dashboard")},l=function(e){var t=e.target,n=t.value,r=t.name;u((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(ye.a)({},r,n))}))};return c?Object(H.jsx)("h4",{children:"Loading..."}):Object(H.jsx)(Z.a,{elevation:5,style:{maxWidth:"900px",margin:"auto",padding:"30px",marginTop:"100px"},children:Object(H.jsxs)("div",{style:{textAlign:"center"},children:[Object(H.jsx)("br",{}),Object(H.jsxs)("form",{onSubmit:d,children:[Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(H.jsx)($.a,{value:b.name,name:"name",onChange:l,label:"Movie name",variant:"outlined"}),Object(H.jsx)($.a,{value:b.year,name:"year",onChange:l,label:"Movie year",variant:"outlined"}),Object(H.jsx)($.a,{value:b.genre,name:"genre",onChange:l,label:"Movie genre",variant:"outlined"})]}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)(ee.a,{type:"submit",variant:"contained",color:"secondary",onSubmit:d,children:"Submit"})]}),Object(H.jsx)("br",{})]})})},Le=n(157),_e=n(161),Te=n(158),Ae=n(160),Ce=n(159),De=Object(ae.a)({root:{margin:"120px auto",maxWidth:500,backgroundColor:"#957DAD",color:"white"},media:{margin:"20px auto",height:150,width:200}}),we=function(e){var t=De(),n=Object(N.h)(),r=(Object(N.g)(),Object(a.b)());console.log(n),Object(z.useEffect)((function(){r(ie(n.id))}),[]);Object(a.c)((function(e){return e.movie.isLoading})),Object(a.c)((function(e){return e.movie.isError}));var c=Object(a.c)((function(e){return e.movie.movie})),i=Object(z.useState)(c),o=Object(X.a)(i,2),s=o[0];o[1];return Object(H.jsxs)(Le.a,{className:t.root,children:[Object(H.jsxs)(Te.a,{children:[Object(H.jsx)(Ce.a,{className:t.media,image:s.avatar}),Object(H.jsxs)(Ae.a,{children:[Object(H.jsx)(W.a,{variant:"h4",children:s.name}),Object(H.jsx)("br",{}),Object(H.jsx)(_e.a,{}),Object(H.jsx)("br",{}),Object(H.jsx)(W.a,{variant:"h6",children:"Movie Details"}),Object(H.jsxs)(Oe.a,{className:t.table,"aria-label":"simple table",children:[Object(H.jsx)(he.a,{children:Object(H.jsxs)(de.a,{children:[Object(H.jsx)(ue.a,{style:{fontWeight:"700",color:"white"},children:"Year of release"}),Object(H.jsx)(ue.a,{style:{fontWeight:"700",color:"white"},children:"Genre"})]})}),Object(H.jsx)(xe.a,{children:Object(H.jsxs)(de.a,{children:[Object(H.jsx)(ue.a,{component:"th",scope:"row",style:{fontWeight:"300",color:"white"},children:s.year}),Object(H.jsx)(ue.a,{style:{fontWeight:"300",color:"white"},children:s.genre})]})})]})]})]}),Object(H.jsx)(_e.a,{})]})};function Ie(){var e=Object(a.c)((function(e){return e.auth.isAuth}));return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(N.d,{children:[Object(H.jsx)(N.b,{exact:!0,path:"/",render:function(){return Object(H.jsx)(re,{})}}),Object(H.jsx)(N.b,{exact:!0,path:"/login",render:function(e){return Object(H.jsx)(te,Object(j.a)({},e))}}),Object(H.jsx)(N.b,{exact:!0,path:"/addMovie",render:function(e){return Object(H.jsx)(Ee,Object(j.a)({},e))}}),Object(H.jsx)(N.b,{exact:!0,path:"/editMovie/:id",render:function(e){return Object(H.jsx)(Se,Object(j.a)({},e))}}),Object(H.jsx)(N.b,{exact:!0,path:"/dashboard/:id",render:function(e){return Object(H.jsx)(we,Object(j.a)({},e))}}),e?Object(H.jsx)(N.b,{exact:!0,path:"/dashboard",render:function(e){return Object(H.jsx)(me,Object(j.a)({},e))}}):Object(H.jsx)("h3",{children:"Login First"}),Object(H.jsx)(N.b,{render:function(){return Object(H.jsx)("h4",{children:"Page not found"})}})]})})}function Me(){return Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(K,{}),Object(H.jsx)(Ie,{})]})}var Re=document.getElementById("root");c.a.render(Object(H.jsx)(a.a,{store:P,children:Object(H.jsx)(F.a,{children:Object(H.jsx)(Me,{})})}),Re)},88:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.ada693e4.chunk.js.map